import{j as e,r as g,d as y,u as fe,i as ye}from"./index-CQSzD0hL.js";import{E as je}from"./jspdf.es.min-BQnaLxkY.js";import{B as ve}from"./ButterflyLogo-B0-Wj3Gn.js";function Ne({users:l,onEdit:C,onDelete:x,onManagePlans:s}){const d=l.filter(b=>!b.isAdmin);return d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-user-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Henüz kullanıcı bulunmuyor"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(b=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full",children:e.jsx("span",{className:"text-white font-bold text-lg",children:b.fullName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:b.fullName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["@",b.username]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-mail-line text-emerald-600"}),e.jsx("span",{children:b.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-phone-line text-emerald-600"}),e.jsx("span",{children:b.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-calendar-line text-emerald-600"}),e.jsxs("span",{children:[b.age," yaş"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-weight-line text-emerald-600"}),e.jsxs("span",{children:[b.weight," kg"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-ruler-line text-emerald-600"}),e.jsxs("span",{children:[b.height," cm"]})]}),b.targetWeight&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("i",{className:"ri-flag-line text-emerald-600"}),e.jsxs("span",{children:["Hedef: ",b.targetWeight," kg"]})]})]}),(b.bloodType||b.allergies||b.medicalConditions)&&e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[b.bloodType&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("i",{className:"ri-drop-line text-red-600 mt-0.5"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Kan Grubu:"})," ",b.bloodType]})]}),b.allergies&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("i",{className:"ri-alert-line text-orange-600 mt-0.5"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Alerjiler:"})," ",b.allergies]})]}),b.medicalConditions&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("i",{className:"ri-heart-pulse-line text-red-600 mt-0.5"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Kronik Hastalıklar:"})," ",b.medicalConditions]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>s(b),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-file-list-3-line mr-2"}),"Planları Yönet"]}),e.jsxs("button",{onClick:()=>C(b),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Düzenle"]}),e.jsxs("button",{onClick:()=>x(b),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Sil"]})]})]})},b.id))})}function we({onClose:l,onSuccess:C}){const[x,s]=g.useState({username:"",password:"",fullName:"",email:"",phone:"",age:"",weight:"",height:"",targetWeight:"",bloodType:"",allergies:"",medicalConditions:""}),[d,b]=g.useState(!1),[z,j]=g.useState(""),m=async D=>{D.preventDefault(),j(""),b(!0);try{if(await y.getUserByUsername(x.username)){j("Bu kullanıcı adı zaten kullanılıyor"),b(!1);return}const S=`user-${Date.now()}`,u=new Date().toISOString(),h={id:S,username:x.username,password:x.password,fullName:x.fullName,email:x.email,phone:x.phone,age:parseInt(x.age),weight:parseFloat(x.weight),height:parseFloat(x.height),targetWeight:x.targetWeight?parseFloat(x.targetWeight):void 0,bloodType:x.bloodType||void 0,allergies:x.allergies||void 0,medicalConditions:x.medicalConditions||void 0,createdAt:u,isAdmin:!1};await y.addUser(h),C()}catch{j("Kullanıcı oluşturulurken bir hata oluştu"),b(!1)}},a=D=>{s({...x,[D.target.name]:D.target.value})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Yeni Kullanıcı Oluştur"}),e.jsx("button",{onClick:l,className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]}),e.jsxs("form",{onSubmit:m,className:"p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Temel Bilgiler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad *"}),e.jsx("input",{type:"text",name:"fullName",value:x.fullName,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kullanıcı Adı *"}),e.jsx("input",{type:"text",name:"username",value:x.username,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre *"}),e.jsx("input",{type:"password",name:"password",value:x.password,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta *"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon *"}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yaş *"}),e.jsx("input",{type:"number",name:"age",value:x.age,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0,min:"1"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Fiziksel Bilgiler"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mevcut Kilo (kg) *"}),e.jsx("input",{type:"number",name:"weight",value:x.weight,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0,step:"0.1",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Boy (cm) *"}),e.jsx("input",{type:"number",name:"height",value:x.height,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",required:!0,step:"0.1",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hedef Kilo (kg)"}),e.jsx("input",{type:"number",name:"targetWeight",value:x.targetWeight,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",step:"0.1",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kan Grubu"}),e.jsx("input",{type:"text",name:"bloodType",value:x.bloodType,onChange:a,placeholder:"Örn: A Rh+",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Sağlık Bilgileri"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alerjiler"}),e.jsx("textarea",{name:"allergies",value:x.allergies,onChange:a,placeholder:"Varsa besin alerjilerini yazın...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kronik Hastalıklar"}),e.jsx("textarea",{name:"medicalConditions",value:x.medicalConditions,onChange:a,placeholder:"Varsa kronik hastalıkları yazın...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]})]})]})]}),z&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:z}),e.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50 text-sm font-medium whitespace-nowrap",children:d?"Oluşturuluyor...":"Kullanıcı Oluştur"})]})]})]})})}function ke({user:l,onClose:C,onSuccess:x}){const[s,d]=g.useState("info"),[b,z]=g.useState(!1),[j,m]=g.useState(""),[a,D]=g.useState({fullName:l.fullName,email:l.email,phone:l.phone,age:l.age.toString(),weight:l.weight.toString(),height:l.height.toString(),password:l.password}),[F,S]=g.useState({userId:l.id,breakfast:"",lunch:"",dinner:"",snacks:"",notes:"",calories:"",updatedAt:""}),[u,h]=g.useState({userId:l.id,monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:"",notes:"",updatedAt:""}),[v,p]=g.useState({userId:l.id,morning:"",afternoon:"",evening:"",duration:"",benefits:"",warnings:"",updatedAt:""});g.useEffect(()=>{A()},[]);const A=async()=>{const o=await y.getDietPlan(l.id),r=await y.getExercisePlan(l.id),N=await y.getDetoxPlan(l.id);o&&S(o),r&&h(r),N&&p(N)},$=async()=>{m(""),z(!0);try{const o={...l,fullName:a.fullName,email:a.email,phone:a.phone,age:parseInt(a.age),weight:parseFloat(a.weight),height:parseFloat(a.height),password:a.password};await y.updateUser(o);const r=new Date().toISOString();await y.saveDietPlan({...F,updatedAt:r}),await y.saveExercisePlan({...u,updatedAt:r}),await y.saveDetoxPlan({...v,updatedAt:r}),x()}catch{m("Kayıt sırasında bir hata oluştu"),z(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Kullanıcı Düzenle: ",l.fullName]}),e.jsx("button",{onClick:C,className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl text-gray-600"})})]}),e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>d("info"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${s==="info"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,children:"Kullanıcı Bilgileri"}),e.jsx("button",{onClick:()=>d("diet"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${s==="diet"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,children:"Diyet Listesi"}),e.jsx("button",{onClick:()=>d("exercise"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${s==="exercise"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,children:"Spor Programı"}),e.jsx("button",{onClick:()=>d("detox"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${s==="detox"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,children:"Detoks Programı"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s==="info"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),e.jsx("input",{type:"text",value:a.fullName,onChange:o=>D({...a,fullName:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta"}),e.jsx("input",{type:"email",value:a.email,onChange:o=>D({...a,email:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",value:a.phone,onChange:o=>D({...a,phone:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),e.jsx("input",{type:"password",value:a.password,onChange:o=>D({...a,password:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yaş"}),e.jsx("input",{type:"number",value:a.age,onChange:o=>D({...a,age:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kilo (kg)"}),e.jsx("input",{type:"number",value:a.weight,onChange:o=>D({...a,weight:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",step:"0.1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Boy (cm)"}),e.jsx("input",{type:"number",value:a.height,onChange:o=>D({...a,height:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",step:"0.1"})]})]}),s==="diet"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kahvaltı"}),e.jsx("textarea",{value:F.breakfast,onChange:o=>S({...F,breakfast:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öğle Yemeği"}),e.jsx("textarea",{value:F.lunch,onChange:o=>S({...F,lunch:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Akşam Yemeği"}),e.jsx("textarea",{value:F.dinner,onChange:o=>S({...F,dinner:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ara Öğünler"}),e.jsx("textarea",{value:F.snacks,onChange:o=>S({...F,snacks:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Günlük Kalori Hedefi"}),e.jsx("input",{type:"text",value:F.calories,onChange:o=>S({...F,calories:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:F.notes,onChange:o=>S({...F,notes:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]})]}),s==="exercise"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pazartesi"}),e.jsx("textarea",{value:u.monday,onChange:o=>h({...u,monday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salı"}),e.jsx("textarea",{value:u.tuesday,onChange:o=>h({...u,tuesday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Çarşamba"}),e.jsx("textarea",{value:u.wednesday,onChange:o=>h({...u,wednesday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perşembe"}),e.jsx("textarea",{value:u.thursday,onChange:o=>h({...u,thursday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuma"}),e.jsx("textarea",{value:u.friday,onChange:o=>h({...u,friday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cumartesi"}),e.jsx("textarea",{value:u.saturday,onChange:o=>h({...u,saturday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pazar"}),e.jsx("textarea",{value:u.sunday,onChange:o=>h({...u,sunday:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:u.notes,onChange:o=>h({...u,notes:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]})]}),s==="detox"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sabah Programı"}),e.jsx("textarea",{value:v.morning,onChange:o=>p({...v,morning:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Öğlen Programı"}),e.jsx("textarea",{value:v.afternoon,onChange:o=>p({...v,afternoon:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Akşam Programı"}),e.jsx("textarea",{value:v.evening,onChange:o=>p({...v,evening:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detoks Süresi"}),e.jsx("input",{type:"text",value:v.duration,onChange:o=>p({...v,duration:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faydaları"}),e.jsx("textarea",{value:v.benefits,onChange:o=>p({...v,benefits:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Uyarılar"}),e.jsx("textarea",{value:v.warnings,onChange:o=>p({...v,warnings:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm",rows:3})]})]}),j&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:j})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 justify-end border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors text-sm font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{onClick:$,disabled:b,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50 text-sm font-medium whitespace-nowrap",children:b?"Kaydediliyor...":"Değişiklikleri Kaydet"})]})]})})}function ee({onClose:l,onSelectFood:C}){const x=!!l,[s,d]=g.useState([]),[b,z]=g.useState([]),[j,m]=g.useState(""),[a,D]=g.useState("Tümü"),[F,S]=g.useState(!1),[u,h]=g.useState(null),v=["Tümü","Tahıllar","Protein","Süt Ürünleri","Meyveler","Sebzeler","Kuruyemişler","Baklagiller","Yağlar","İçecekler"];g.useEffect(()=>{p()},[]),g.useEffect(()=>{A()},[s,j,a]);const p=async()=>{const r=await y.getAllFoodItems();d(r)},A=()=>{let r=s;a!=="Tümü"&&(r=r.filter(N=>N.category===a)),j&&(r=r.filter(N=>N.name.toLowerCase().includes(j.toLowerCase()))),z(r)},$=async r=>{confirm("Bu yiyeceği silmek istediğinizden emin misiniz?")&&(await y.deleteFoodItem(r),p())},o=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${x?"bg-gradient-to-r from-emerald-600 to-teal-600":"bg-gradient-to-r from-emerald-600 to-teal-600 rounded-t-xl"} px-6 py-4 flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Yiyecek Veritabanı"}),e.jsxs("p",{className:"text-emerald-100 text-sm mt-1",children:["Besin değerlerini yönetin (",s.length," öğe)"]})]}),x&&e.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:j,onChange:r=>m(r.target.value),placeholder:"Yiyecek ara...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})}),e.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Yeni Yiyecek"]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map(r=>e.jsx("button",{onClick:()=>D(r),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${a===r?"bg-emerald-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:r},r))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(r=>e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-emerald-500 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-xs text-emerald-600 font-medium",children:r.category})]}),e.jsxs("div",{className:"flex gap-1",children:[C&&l&&e.jsx("button",{onClick:()=>{C(r),l()},className:"w-8 h-8 flex items-center justify-center hover:bg-emerald-100 text-emerald-600 rounded-lg transition-colors",title:"Seç",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>h(r),className:"w-8 h-8 flex items-center justify-center hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Düzenle",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>$(r.id),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Sil",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Porsiyon:"}),e.jsxs("span",{className:"font-medium",children:[r.servingSize," ",r.servingUnit]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Kalori:"}),e.jsxs("span",{className:"font-bold text-emerald-600",children:[r.calories," kcal"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Protein"}),e.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[r.protein,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Karb."}),e.jsxs("p",{className:"text-sm font-bold text-amber-600",children:[r.carbs,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Yağ"}),e.jsxs("p",{className:"text-sm font-bold text-red-600",children:[r.fat,"g"]})]})]})]})]},r.id))}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Yiyecek bulunamadı"})]})]}),(F||u)&&e.jsx(Ce,{food:u,onClose:()=>{S(!1),h(null)},onSuccess:()=>{S(!1),h(null),p()}})]});return x?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:o})}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o})}function Ce({food:l,onClose:C,onSuccess:x}){const[s,d]=g.useState(l||{name:"",category:"Tahıllar",calories:0,protein:0,carbs:0,fat:0,fiber:0,servingSize:"100",servingUnit:"gram"}),b=["Tahıllar","Protein","Süt Ürünleri","Meyveler","Sebzeler","Kuruyemişler","Baklagiller","Yağlar","İçecekler"],z=["gram","adet","bardak","yemek kaşığı","çay kaşığı","dilim","porsiyon"],j=async m=>{m.preventDefault();const a={id:l?.id||`food-${Date.now()}`,name:s.name,category:s.category,calories:s.calories,protein:s.protein,carbs:s.carbs,fat:s.fat,fiber:s.fiber,servingSize:s.servingSize,servingUnit:s.servingUnit,createdAt:l?.createdAt||new Date().toISOString()};l?await y.updateFoodItem(a):await y.addFoodItem(a),x()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:l?"Yiyecek Düzenle":"Yeni Yiyecek Ekle"}),e.jsx("button",{onClick:C,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yiyecek Adı *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:m=>d({...s,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),e.jsx("select",{required:!0,value:s.category,onChange:m=>d({...s,category:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none",children:b.map(m=>e.jsx("option",{value:m,children:m},m))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Porsiyon *"}),e.jsx("input",{type:"text",required:!0,value:s.servingSize,onChange:m=>d({...s,servingSize:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birim *"}),e.jsx("select",{required:!0,value:s.servingUnit,onChange:m=>d({...s,servingUnit:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none",children:z.map(m=>e.jsx("option",{value:m,children:m},m))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kalori (kcal) *"}),e.jsx("input",{type:"number",required:!0,step:"0.1",value:s.calories,onChange:m=>d({...s,calories:parseFloat(m.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Protein (g) *"}),e.jsx("input",{type:"number",required:!0,step:"0.1",value:s.protein,onChange:m=>d({...s,protein:parseFloat(m.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Karbonhidrat (g) *"}),e.jsx("input",{type:"number",required:!0,step:"0.1",value:s.carbs,onChange:m=>d({...s,carbs:parseFloat(m.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yağ (g) *"}),e.jsx("input",{type:"number",required:!0,step:"0.1",value:s.fat,onChange:m=>d({...s,fat:parseFloat(m.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lif (g)"}),e.jsx("input",{type:"number",step:"0.1",value:s.fiber||"",onChange:m=>d({...s,fiber:parseFloat(m.target.value)||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:l?"Güncelle":"Ekle"})]})]})]})})}function Se({onClose:l,onSelectExercise:C}){const x=!!l,[s,d]=g.useState([]),[b,z]=g.useState([]),[j,m]=g.useState(""),[a,D]=g.useState("Tümü"),[F,S]=g.useState(!1),[u,h]=g.useState(null),v=["Tümü","Kardiyovasküler","Kuvvet","Esneklik","Denge","HIIT"];g.useEffect(()=>{p()},[]),g.useEffect(()=>{A()},[s,j,a]);const p=async()=>{const r=await y.getAllExerciseItems();d(r)},A=()=>{let r=s;a!=="Tümü"&&(r=r.filter(N=>N.category===a)),j&&(r=r.filter(N=>N.name.toLowerCase().includes(j.toLowerCase()))),z(r)},$=async r=>{confirm("Bu egzersizi silmek istediğinizden emin misiniz?")&&(await y.deleteExerciseItem(r),p())},o=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${x?"bg-gradient-to-r from-blue-600 to-indigo-600":"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-t-xl"} px-6 py-4 flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Egzersiz Veritabanı"}),e.jsxs("p",{className:"text-blue-100 text-sm mt-1",children:["Egzersiz hareketlerini yönetin (",s.length," öğe)"]})]}),x&&e.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:j,onChange:r=>m(r.target.value),placeholder:"Egzersiz ara...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})}),e.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Yeni Egzersiz"]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map(r=>e.jsx("button",{onClick:()=>D(r),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${a===r?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:r},r))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(r=>e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-blue-500 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:r.category})]}),e.jsxs("div",{className:"flex gap-1",children:[C&&l&&e.jsx("button",{onClick:()=>{C(r),l()},className:"w-8 h-8 flex items-center justify-center hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Seç",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>h(r),className:"w-8 h-8 flex items-center justify-center hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Düzenle",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>$(r.id),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Sil",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Zorluk:"}),e.jsx("span",{className:`font-medium px-2 py-1 rounded text-xs ${r.difficulty==="Kolay"?"bg-green-100 text-green-700":r.difficulty==="Orta"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:r.difficulty})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Kalori/Dakika:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[r.caloriesPerMinute," kcal"]})]}),r.equipment&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Ekipman:"}),e.jsx("span",{className:"font-medium",children:r.equipment})]}),r.muscleGroup&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kas Grubu:"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.muscleGroup})]})]})]},r.id))}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Egzersiz bulunamadı"})]})]}),(F||u)&&e.jsx(De,{exercise:u,onClose:()=>{S(!1),h(null)},onSuccess:()=>{S(!1),h(null),p()}})]});return x?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:o})}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o})}function De({exercise:l,onClose:C,onSuccess:x}){const[s,d]=g.useState(l||{name:"",category:"Kardiyovasküler",caloriesPerMinute:0,difficulty:"Orta",equipment:"",muscleGroup:"",description:""}),b=["Kardiyovasküler","Kuvvet","Esneklik","Denge","HIIT"],z=["Kolay","Orta","Zor"],j=async m=>{m.preventDefault();const a={id:l?.id||`ex-${Date.now()}`,name:s.name,category:s.category,caloriesPerMinute:s.caloriesPerMinute,difficulty:s.difficulty,equipment:s.equipment,muscleGroup:s.muscleGroup,description:s.description,createdAt:l?.createdAt||new Date().toISOString()};l?await y.updateExerciseItem(a):await y.addExerciseItem(a),x()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:l?"Egzersiz Düzenle":"Yeni Egzersiz Ekle"}),e.jsx("button",{onClick:C,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Egzersiz Adı *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:m=>d({...s,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),e.jsx("select",{required:!0,value:s.category,onChange:m=>d({...s,category:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:b.map(m=>e.jsx("option",{value:m,children:m},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zorluk *"}),e.jsx("select",{required:!0,value:s.difficulty,onChange:m=>d({...s,difficulty:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:z.map(m=>e.jsx("option",{value:m,children:m},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kalori/Dakika *"}),e.jsx("input",{type:"number",required:!0,step:"0.1",value:s.caloriesPerMinute,onChange:m=>d({...s,caloriesPerMinute:parseFloat(m.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ekipman"}),e.jsx("input",{type:"text",value:s.equipment,onChange:m=>d({...s,equipment:m.target.value}),placeholder:"Örn: Halter, Mat, Yok",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kas Grubu"}),e.jsx("input",{type:"text",value:s.muscleGroup,onChange:m=>d({...s,muscleGroup:m.target.value}),placeholder:"Örn: Bacaklar, Göğüs, Tüm Vücut",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),e.jsx("textarea",{value:s.description,onChange:m=>d({...s,description:m.target.value}),placeholder:"Egzersiz hakkında detaylı açıklama...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",rows:3})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:l?"Güncelle":"Ekle"})]})]})]})})}function Fe({onClose:l,onSelectDetox:C}){const x=!!l,[s,d]=g.useState([]),[b,z]=g.useState([]),[j,m]=g.useState(""),[a,D]=g.useState("Tümü"),[F,S]=g.useState(!1),[u,h]=g.useState(null),v=["Tümü","İçecekler","Tohumlar","Süper Besinler","Baharatlar"];g.useEffect(()=>{p()},[]),g.useEffect(()=>{A()},[s,j,a]);const p=async()=>{const r=await y.getAllDetoxItems();d(r)},A=()=>{let r=s;a!=="Tümü"&&(r=r.filter(N=>N.category===a)),j&&(r=r.filter(N=>N.name.toLowerCase().includes(j.toLowerCase()))),z(r)},$=async r=>{confirm("Bu detoks öğesini silmek istediğinizden emin misiniz?")&&(await y.deleteDetoxItem(r),p())},o=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${x?"bg-gradient-to-r from-green-600 to-emerald-600":"bg-gradient-to-r from-green-600 to-emerald-600 rounded-t-xl"} px-6 py-4 flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Detoks Veritabanı"}),e.jsxs("p",{className:"text-green-100 text-sm mt-1",children:["Detoks öğelerini yönetin (",s.length," öğe)"]})]}),x&&e.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:j,onChange:r=>m(r.target.value),placeholder:"Detoks öğesi ara...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})}),e.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Yeni Detoks Öğesi"]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map(r=>e.jsx("button",{onClick:()=>D(r),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${a===r?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:r},r))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(r=>e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-4 hover:border-green-500 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:r.category})]}),e.jsxs("div",{className:"flex gap-1",children:[C&&l&&e.jsx("button",{onClick:()=>{C(r),l()},className:"w-8 h-8 flex items-center justify-center hover:bg-green-100 text-green-600 rounded-lg transition-colors",title:"Seç",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>h(r),className:"w-8 h-8 flex items-center justify-center hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Düzenle",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>$(r.id),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Sil",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Porsiyon:"}),e.jsxs("span",{className:"font-medium",children:[r.servingSize," ",r.servingUnit]})]}),r.bestTime&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"En İyi Zaman:"}),e.jsx("span",{className:"font-medium text-green-600",children:r.bestTime})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Faydaları:"}),e.jsx("p",{className:"text-sm text-gray-900",children:r.benefits})]})]})]},r.id))}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Detoks öğesi bulunamadı"})]})]}),(F||u)&&e.jsx(ze,{detoxItem:u,onClose:()=>{S(!1),h(null)},onSuccess:()=>{S(!1),h(null),p()}})]});return x?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:o})}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o})}function ze({detoxItem:l,onClose:C,onSuccess:x}){const[s,d]=g.useState(l||{name:"",category:"İçecekler",benefits:"",servingSize:"1",servingUnit:"bardak",bestTime:"",description:""}),b=["İçecekler","Tohumlar","Süper Besinler","Baharatlar"],z=["bardak","fincan","yemek kaşığı","çay kaşığı","gram","litre"],j=["Sabah Aç Karnına","Kahvaltıdan Önce","Öğleden Sonra","Akşam","Yemeklerden Önce","Gün Boyu"],m=async a=>{a.preventDefault();const D={id:l?.id||`detox-${Date.now()}`,name:s.name,category:s.category,benefits:s.benefits,servingSize:s.servingSize,servingUnit:s.servingUnit,bestTime:s.bestTime,description:s.description,createdAt:l?.createdAt||new Date().toISOString()};l?await y.updateDetoxItem(D):await y.addDetoxItem(D),x()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:l?"Detoks Öğesi Düzenle":"Yeni Detoks Öğesi Ekle"}),e.jsx("button",{onClick:C,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detoks Öğesi Adı *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:a=>d({...s,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),e.jsx("select",{required:!0,value:s.category,onChange:a=>d({...s,category:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:b.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"En İyi Zaman"}),e.jsxs("select",{value:s.bestTime,onChange:a=>d({...s,bestTime:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[e.jsx("option",{value:"",children:"Seçiniz"}),j.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Porsiyon *"}),e.jsx("input",{type:"text",required:!0,value:s.servingSize,onChange:a=>d({...s,servingSize:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Birim *"}),e.jsx("select",{required:!0,value:s.servingUnit,onChange:a=>d({...s,servingUnit:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:z.map(a=>e.jsx("option",{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Faydaları *"}),e.jsx("textarea",{required:!0,value:s.benefits,onChange:a=>d({...s,benefits:a.target.value}),placeholder:"Bu detoks öğesinin sağlık faydaları...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",rows:3})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama"}),e.jsx("textarea",{value:s.description,onChange:a=>d({...s,description:a.target.value}),placeholder:"Hazırlama şekli ve ek bilgiler...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",rows:3})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:l?"Güncelle":"Ekle"})]})]})]})})}function Te({onClose:l,onSelectRecipe:C}){const x=!!l,[s,d]=g.useState([]),[b,z]=g.useState([]),[j,m]=g.useState(""),[a,D]=g.useState("Tümü"),[F,S]=g.useState(!1),[u,h]=g.useState(null),v=["Tümü","Kahvaltılar","Ana Yemekler","Salatalar","Atıştırmalıklar","Çorbalar","Tatlılar"];g.useEffect(()=>{p()},[]),g.useEffect(()=>{A()},[s,j,a]);const p=async()=>{const r=await y.getAllRecipes();d(r)},A=()=>{let r=s;a!=="Tümü"&&(r=r.filter(N=>N.category===a)),j&&(r=r.filter(N=>N.name.toLowerCase().includes(j.toLowerCase()))),z(r)},$=async r=>{confirm("Bu tarifi silmek istediğinizden emin misiniz?")&&(await y.deleteRecipe(r),p())},o=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${x?"bg-gradient-to-r from-orange-600 to-red-600":"bg-gradient-to-r from-orange-600 to-red-600 rounded-t-xl"} px-6 py-4 flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Yemek Tarifleri Veritabanı"}),e.jsxs("p",{className:"text-orange-100 text-sm mt-1",children:["Yemek tariflerini yönetin (",s.length," öğe)"]})]}),x&&e.jsx("button",{onClick:l,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:j,onChange:r=>m(r.target.value),placeholder:"Tarif ara...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})}),e.jsxs("button",{onClick:()=>S(!0),className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Yeni Tarif"]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:v.map(r=>e.jsx("button",{onClick:()=>D(r),className:`px-4 py-2 rounded-lg font-medium text-sm whitespace-nowrap transition-colors ${a===r?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:r},r))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(r=>e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5 hover:border-orange-500 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:r.name}),e.jsx("p",{className:"text-xs text-orange-600 font-medium",children:r.category})]}),e.jsxs("div",{className:"flex gap-1",children:[C&&l&&e.jsx("button",{onClick:()=>{C(r),l()},className:"w-8 h-8 flex items-center justify-center hover:bg-orange-100 text-orange-600 rounded-lg transition-colors",title:"Seç",children:e.jsx("i",{className:"ri-check-line"})}),e.jsx("button",{onClick:()=>h(r),className:"w-8 h-8 flex items-center justify-center hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Düzenle",children:e.jsx("i",{className:"ri-edit-line"})}),e.jsx("button",{onClick:()=>$(r.id),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Sil",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[e.jsx("i",{className:"ri-time-line mr-1"}),"Hazırlık: ",r.prepTime," dk"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-timer-line mr-1"}),"Pişirme: ",r.cookTime," dk"]}),e.jsxs("span",{children:[e.jsx("i",{className:"ri-user-line mr-1"}),r.servings," kişilik"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Malzemeler (",r.ingredients.length,"):"]}),e.jsxs("div",{className:"space-y-1",children:[r.ingredients.slice(0,3).map((N,K)=>e.jsxs("p",{className:"text-sm text-gray-700",children:["• ",N.foodName," - ",N.amount," ",N.unit]},K)),r.ingredients.length>3&&e.jsxs("p",{className:"text-xs text-gray-500",children:["+",r.ingredients.length-3," malzeme daha..."]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Kalori"}),e.jsx("p",{className:"text-sm font-bold text-orange-600",children:r.totalCalories})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Protein"}),e.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[r.totalProtein,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Karb."}),e.jsxs("p",{className:"text-sm font-bold text-amber-600",children:[r.totalCarbs,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Yağ"}),e.jsxs("p",{className:"text-sm font-bold text-red-600",children:[r.totalFat,"g"]})]})]})]})]},r.id))}),b.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-search-line text-6xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Tarif bulunamadı"})]})]}),(F||u)&&e.jsx(Pe,{recipe:u,onClose:()=>{S(!1),h(null)},onSuccess:()=>{S(!1),h(null),p()}})]});return x?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:o})}):e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o})}function Pe({recipe:l,onClose:C,onSuccess:x}){const[s,d]=g.useState(l||{name:"",category:"Ana Yemek",ingredients:[],instructions:"",prepTime:0,cookTime:0,servings:1,totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0}),[b,z]=g.useState(!1),j=["Kahvaltılar","Ana Yemekler","Salatalar","Atıştırmalıklar","Çorbalar","Tatlılar"],m=u=>{const h={foodId:u.id,foodName:u.name,amount:parseFloat(u.servingSize),unit:u.servingUnit},v=[...s.ingredients||[],h];F(v)},a=u=>{const h=s.ingredients?.filter((v,p)=>p!==u)||[];F(h)},D=(u,h,v)=>{const p=[...s.ingredients||[]];p[u]={...p[u],[h]:v},F(p)},F=async u=>{let h=0,v=0,p=0,A=0;for(const $ of u){const o=await y.getFoodItem($.foodId);if(o){const r=$.amount/parseFloat(o.servingSize);h+=o.calories*r,v+=o.protein*r,p+=o.carbs*r,A+=o.fat*r}}d({...s,ingredients:u,totalCalories:Math.round(h),totalProtein:Math.round(v*10)/10,totalCarbs:Math.round(p*10)/10,totalFat:Math.round(A*10)/10})},S=async u=>{if(u.preventDefault(),!s.ingredients||s.ingredients.length===0){alert("En az bir malzeme eklemelisiniz!");return}const h={id:l?.id||`recipe-${Date.now()}`,name:s.name,category:s.category,ingredients:s.ingredients,instructions:s.instructions,prepTime:s.prepTime,cookTime:s.cookTime,servings:s.servings,totalCalories:s.totalCalories,totalProtein:s.totalProtein,totalCarbs:s.totalCarbs,totalFat:s.totalFat,imageUrl:s.imageUrl,createdAt:l?.createdAt||new Date().toISOString()};l?await y.updateRecipe(h):await y.addRecipe(h),x()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:l?"Tarif Düzenle":"Yeni Tarif Ekle"}),e.jsx("button",{onClick:C,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("form",{onSubmit:S,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarif Adı *"}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:u=>d({...s,name:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),e.jsx("select",{required:!0,value:s.category,onChange:u=>d({...s,category:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none",children:j.map(u=>e.jsx("option",{value:u,children:u},u))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Porsiyon Sayısı *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:s.servings,onChange:u=>d({...s,servings:parseInt(u.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hazırlık Süresi (dk) *"}),e.jsx("input",{type:"number",required:!0,min:"0",value:s.prepTime,onChange:u=>d({...s,prepTime:parseInt(u.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pişirme Süresi (dk) *"}),e.jsx("input",{type:"number",required:!0,min:"0",value:s.cookTime,onChange:u=>d({...s,cookTime:parseInt(u.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Malzemeler *"}),e.jsxs("button",{type:"button",onClick:()=>z(!0),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg text-sm font-medium transition-colors whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"Malzeme Ekle"]})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto border border-gray-200 rounded-lg p-3",children:s.ingredients&&s.ingredients.length>0?s.ingredients.map((u,h)=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-lg",children:[e.jsx("span",{className:"flex-1 font-medium text-gray-900",children:u.foodName}),e.jsx("input",{type:"number",step:"0.1",value:u.amount,onChange:v=>D(h,"amount",parseFloat(v.target.value)),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("input",{type:"text",value:u.unit,onChange:v=>D(h,"unit",v.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("button",{type:"button",onClick:()=>a(h),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-delete-bin-line"})})]},h)):e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"Henüz malzeme eklenmedi"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Yapılışı *"}),e.jsx("textarea",{required:!0,rows:6,value:s.instructions,onChange:u=>d({...s,instructions:u.target.value}),placeholder:"Tarifin yapılış aşamalarını yazın...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Besin Değerleri (Otomatik Hesaplanır)"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Kalori"}),e.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[s.totalCalories," kcal"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Protein"}),e.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.totalProtein,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Karbonhidrat"}),e.jsxs("p",{className:"text-xl font-bold text-amber-600",children:[s.totalCarbs,"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Yağ"}),e.jsxs("p",{className:"text-xl font-bold text-red-600",children:[s.totalFat,"g"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-medium whitespace-nowrap",children:"İptal"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors font-medium whitespace-nowrap",children:l?"Güncelle":"Ekle"})]})]}),b&&e.jsx(ee,{onClose:()=>z(!1),onSelectFood:u=>{m(u),z(!1)}})]})})}function Ee({user:l,onClose:C}){const[x,s]=g.useState("diet"),[d,b]=g.useState(new Date().toISOString().split("T")[0]),[z,j]=g.useState(!1),[m,a]=g.useState(""),[D,F]=g.useState([]),[S,u]=g.useState([]),[h,v]=g.useState([]),[p,A]=g.useState([]),[$,o]=g.useState(2.5),[r,N]=g.useState(""),[K,L]=g.useState([]),[J,H]=g.useState(""),[q,G]=g.useState([]),[W,V]=g.useState(3),[Q,Z]=g.useState("");g.useEffect(()=>{te()},[]),g.useEffect(()=>{se()},[x,d,l.id]);const te=async()=>{const t=await y.getAllFoodItems(),i=await y.getAllExerciseItems(),n=await y.getAllDetoxItems();F(t),u(i),v(n)},se=async()=>{try{if(x==="diet"){const i=(await y.getDailyDietPlansByUser(l.id)).find(n=>n.date===d);i?(A(i.meals),o(i.waterIntake),N(i.notes)):(A([]),o(2.5),N(""))}else if(x==="exercise"){const i=(await y.getDailyExercisePlansByUser(l.id)).find(n=>n.date===d);i?(L(i.exercises),H(i.notes)):(L([]),H(""))}else if(x==="detox"){const i=(await y.getDailyDetoxPlansByUser(l.id)).find(n=>n.date===d);i?(G(i.items),V(i.waterIntake),Z(i.notes)):(G([]),V(3),Z(""))}}catch(t){console.error("Plan yüklenirken hata:",t)}},re=()=>{const t={id:`meal-${Date.now()}`,name:"",time:"08:00",foods:[],totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,notes:""};A([...p,t])},X=(t,i,n)=>{const c=[...p];c[t]={...c[t],[i]:n},A(c)},ae=(t,i)=>{const n=[...p],c={foodId:i.id,foodName:i.name,amount:100,unit:"gram",calories:i.calories,protein:i.protein,carbs:i.carbs,fat:i.fat};n[t].foods.push(c),n[t].totalCalories=n[t].foods.reduce((f,T)=>f+T.calories,0),n[t].totalProtein=n[t].foods.reduce((f,T)=>f+T.protein,0),n[t].totalCarbs=n[t].foods.reduce((f,T)=>f+T.carbs,0),n[t].totalFat=n[t].foods.reduce((f,T)=>f+T.fat,0),A(n)},le=(t,i,n,c)=>{const f=[...p];f[t].foods[i]={...f[t].foods[i],[n]:c},f[t].totalCalories=f[t].foods.reduce((T,P)=>T+P.calories,0),f[t].totalProtein=f[t].foods.reduce((T,P)=>T+P.protein,0),f[t].totalCarbs=f[t].foods.reduce((T,P)=>T+P.carbs,0),f[t].totalFat=f[t].foods.reduce((T,P)=>T+P.fat,0),A(f)},ne=(t,i)=>{const n=[...p];n[t].foods.splice(i,1),n[t].totalCalories=n[t].foods.reduce((c,f)=>c+f.calories,0),n[t].totalProtein=n[t].foods.reduce((c,f)=>c+f.protein,0),n[t].totalCarbs=n[t].foods.reduce((c,f)=>c+f.carbs,0),n[t].totalFat=n[t].foods.reduce((c,f)=>c+f.fat,0),A(n)},ie=t=>{A(p.filter((i,n)=>n!==t))},oe=t=>{const i={exerciseId:t.id,exerciseName:t.name,duration:30,sets:3,reps:10,calories:Math.round(t.caloriesPerMinute*30),notes:""};L([...K,i])},O=(t,i,n)=>{const c=[...K];c[t]={...c[t],[i]:n},L(c)},de=t=>{L(K.filter((i,n)=>n!==t))},ce=t=>{const i={detoxId:t.id,detoxName:t.name,time:"08:00",amount:1,unit:t.servingUnit,benefits:t.benefits,notes:""};G([...q,i])},_=(t,i,n)=>{const c=[...q];c[t]={...c[t],[i]:n},G(c)},xe=t=>{G(q.filter((i,n)=>n!==t))},me=async()=>{j(!0),a("");try{const t=new Date().toISOString();if(x==="diet"){const i=p.reduce((w,U)=>w+U.totalCalories,0),n=p.reduce((w,U)=>w+U.totalProtein,0),c=p.reduce((w,U)=>w+U.totalCarbs,0),f=p.reduce((w,U)=>w+U.totalFat,0),P=(await y.getDailyDietPlansByUser(l.id)).find(w=>w.date===d),B={id:P?.id||`diet-${l.id}-${Date.now()}`,userId:l.id,date:d,meals:p,totalCalories:i,totalProtein:n,totalCarbs:c,totalFat:f,waterIntake:$,notes:r,createdAt:P?.createdAt||t,updatedAt:t};P?await y.updateDailyDietPlan(B):await y.addDailyDietPlan(B)}else if(x==="exercise"){const i=K.reduce((P,B)=>P+B.duration,0),n=K.reduce((P,B)=>P+B.calories,0),f=(await y.getDailyExercisePlansByUser(l.id)).find(P=>P.date===d),T={id:f?.id||`exercise-${l.id}-${Date.now()}`,userId:l.id,date:d,exercises:K,totalDuration:i,totalCalories:n,completed:!1,notes:J,createdAt:f?.createdAt||t,updatedAt:t};f?await y.updateDailyExercisePlan(T):await y.addDailyExercisePlan(T)}else if(x==="detox"){const n=(await y.getDailyDetoxPlansByUser(l.id)).find(f=>f.date===d),c={id:n?.id||`detox-${l.id}-${Date.now()}`,userId:l.id,date:d,items:q,waterIntake:W,completed:!1,notes:Q,createdAt:n?.createdAt||t,updatedAt:t};n?await y.updateDailyDetoxPlan(c):await y.addDailyDetoxPlan(c)}a("Plan başarıyla kaydedildi!"),setTimeout(()=>a(""),3e3)}catch(t){console.error("Plan kaydedilirken hata:",t)}finally{j(!1)}},ue=()=>{const t=new je("p","mm","a4"),i=210,n=297,c=12,f=i-c*2,T=45,P=20,w={diet:{primary:[34,197,94],secondary:[240,253,244],accent:[22,163,74]},exercise:{primary:[34,197,94],secondary:[240,253,244],accent:[22,163,74]},detox:{primary:[34,197,94],secondary:[240,253,244],accent:[22,163,74]}}[x],U=(I,M)=>{t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.rect(0,0,i,T,"F"),t.setFillColor(255,255,255),t.circle(c+12,18,10,"F"),t.setDrawColor(w.primary[0],w.primary[1],w.primary[2]),t.setLineWidth(1.2),t.ellipse(c+9,18,3,4.5,"S"),t.ellipse(c+15,18,3,4.5,"S"),t.ellipse(c+9,14,2,3,"S"),t.ellipse(c+15,14,2,3,"S"),t.setLineWidth(1.5),t.line(c+12,12,c+12,22),t.setLineWidth(.8),t.line(c+12,12,c+10,9),t.line(c+12,12,c+14,9),t.setTextColor(255,255,255),t.setFontSize(18),t.setFont("helvetica","bold");const E={diet:"KISISEL DIYET LISTESI",exercise:"HAFTALIK SPOR PROGRAMI",detox:"DETOKS PROGRAMI"};t.text(E[x],c+28,16),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Dyt Aysenur Korkmaz",c+28,23),t.setFontSize(9);const Y=new Date(d).toLocaleDateString("tr-TR");t.text(Y,i-c-25,14),t.text(`Sayfa ${I} / ${M}`,i-c-25,20),t.setFillColor(255,255,255),t.roundedRect(c,30,f,12,2,2,"F"),t.setTextColor(55,65,81),t.setFontSize(9);const he=(l.weight/Math.pow(l.height/100,2)).toFixed(1),pe=`Ad Soyad: ${l.fullName}  |  Yas: ${l.age}  |  Boy: ${l.height} cm  |  Kilo: ${l.weight} kg  |  BMI: ${he}`;t.text(pe,c+4,37.5)},R=()=>{const I=n-P;t.setDrawColor(w.primary[0],w.primary[1],w.primary[2]),t.setLineWidth(.5),t.line(c,I,i-c,I),t.setFontSize(9),t.setFont("helvetica","italic"),t.setTextColor(w.primary[0],w.primary[1],w.primary[2]);const M=["Saglikli yasam, mutlu yarinlar icin bugun baslar!","Her gun bir adim daha yakinsin hedefine!","Kendinize yaptiginiz en iyi yatirim, sagliginizdir!"],E=M[Math.floor(Math.random()*M.length)],Y=t.getTextWidth(E);t.text(E,(i-Y)/2,I+7),t.setFontSize(7),t.setFont("helvetica","normal"),t.setTextColor(156,163,175),t.text("2024 Dyt Aysenur Korkmaz - Tum haklari saklidir",c,I+14)};U(1,1);let k=T+5;if(x==="diet"){for(const M of p){k>n-P-50&&(R(),t.addPage(),k=T+5,U(1,1)),t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,8,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`${M.name} - ${M.time}`,c+4,k+5.5),t.text(`${M.totalCalories} kcal`,i-c-25,k+5.5),k+=11,t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(55,65,81);for(const E of M.foods)k>n-P-15&&(R(),t.addPage(),k=T+5,U(1,1)),t.text(`  - ${E.foodName}`,c+4,k),t.text(`${E.amount} ${E.unit}`,i-c-30,k),k+=5;t.setFontSize(8),t.setTextColor(107,114,128),t.text(`Protein: ${M.totalProtein.toFixed(1)}g  |  Karb: ${M.totalCarbs.toFixed(1)}g  |  Yag: ${M.totalFat.toFixed(1)}g`,c+4,k),k+=8}const I=p.reduce((M,E)=>M+E.totalCalories,0);t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,12,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`GUNLUK TOPLAM: ${I} kcal  |  Su: ${$}L`,c+5,k+8)}else if(x==="exercise"){for(const E of K){k>n-P-35&&(R(),t.addPage(),k=T+5,U(1,1)),t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,8,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(E.exerciseName,c+4,k+5.5),t.text(`${E.calories} kcal`,i-c-25,k+5.5),k+=11,t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(55,65,81);let Y=`Sure: ${E.duration} dakika`;E.sets&&E.reps&&(Y+=`  |  ${E.sets} set x ${E.reps} tekrar`),t.text(Y,c+4,k),k+=8}const I=K.reduce((E,Y)=>E+Y.duration,0),M=K.reduce((E,Y)=>E+Y.calories,0);t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,12,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`TOPLAM: ${I} dakika  |  ${M} kcal yakilan`,c+5,k+8)}else if(x==="detox"){for(const I of q){if(k>n-P-40&&(R(),t.addPage(),k=T+5,U(1,1)),t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,8,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`${I.detoxName} - ${I.time}`,c+4,k+5.5),t.text(`${I.amount} ${I.unit}`,i-c-30,k+5.5),k+=11,I.benefits){t.setFontSize(9),t.setFont("helvetica","normal"),t.setTextColor(55,65,81);const M=t.splitTextToSize(`Faydalari: ${I.benefits}`,f-8);for(const E of M)k>n-P-10&&(R(),t.addPage(),k=T+5,U(1,1)),t.text(E,c+4,k),k+=4.5}k+=4}t.setFillColor(w.primary[0],w.primary[1],w.primary[2]),t.roundedRect(c,k,f,12,2,2,"F"),t.setFontSize(10),t.setFont("helvetica","bold"),t.setTextColor(255,255,255),t.text(`SU TUKETIMI: ${W} Litre`,c+5,k+8)}R();const ge={diet:"Diyet",exercise:"Spor",detox:"Detoks"},be=`${l.fullName}-${ge[x]}-${new Date(d).toLocaleDateString("tr-TR").replace(/\./g,"-")}.pdf`;t.save(be)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:[l.fullName," - Plan Yönetimi"]}),e.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Günlük planları oluşturun ve yönetin"})]}),e.jsx("button",{onClick:C,className:"w-10 h-10 flex items-center justify-center hover:bg-white/20 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl text-white"})})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s("diet"),className:`flex-1 px-6 py-4 font-medium transition-colors ${x==="diet"?"text-emerald-600 border-b-2 border-emerald-600 bg-emerald-50":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("i",{className:"ri-restaurant-line mr-2"}),"Diyet Planı"]}),e.jsxs("button",{onClick:()=>s("exercise"),className:`flex-1 px-6 py-4 font-medium transition-colors ${x==="exercise"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("i",{className:"ri-run-line mr-2"}),"Spor Programı"]}),e.jsxs("button",{onClick:()=>s("detox"),className:`flex-1 px-6 py-4 font-medium transition-colors ${x==="detox"?"text-green-600 border-b-2 border-green-600 bg-green-50":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("i",{className:"ri-leaf-line mr-2"}),"Detoks Programı"]})]}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tarih:"}),e.jsx("input",{type:"date",value:d,onChange:t=>b(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none text-sm"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[x==="diet"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Öğünler"}),e.jsxs("button",{onClick:re,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors text-sm font-medium",children:[e.jsx("i",{className:"ri-add-line mr-2"}),"Öğün Ekle"]})]}),p.map((t,i)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("input",{type:"text",value:t.name,onChange:n=>X(i,"name",n.target.value),placeholder:"Öğün adı (örnek: Kahvaltı)",className:"text-lg font-semibold bg-transparent border-b border-gray-300 focus:border-emerald-500 outline-none px-2 py-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"time",value:t.time,onChange:n=>X(i,"time",n.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm"}),e.jsx("button",{onClick:()=>ie(i),className:"w-8 h-8 flex items-center justify-center hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:e.jsx("i",{className:"ri-delete-bin-line"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Besinler"}),e.jsxs("select",{onChange:n=>{const c=D.find(f=>f.id===n.target.value);c&&ae(i,c),n.target.value=""},className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",value:"",children:[e.jsx("option",{value:"",children:"Besin ekle..."}),D.map(n=>e.jsxs("option",{value:n.id,children:[n.name," (",n.calories," kcal)"]},n.id))]})]}),t.foods.map((n,c)=>e.jsxs("div",{className:"flex items-center gap-2 bg-white p-3 rounded-lg",children:[e.jsx("span",{className:"flex-1 font-medium",children:n.foodName}),e.jsx("input",{type:"number",value:n.amount,onChange:f=>le(i,c,"amount",parseFloat(f.target.value)||0),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("span",{className:"text-sm text-gray-500",children:n.unit}),e.jsxs("span",{className:"text-sm text-emerald-600 font-medium",children:[n.calories," kcal"]}),e.jsx("button",{onClick:()=>ne(i,c),className:"text-red-500 hover:text-red-700",children:e.jsx("i",{className:"ri-close-line"})})]},c))]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Kalori"}),e.jsx("p",{className:"font-bold text-emerald-600",children:t.totalCalories})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Protein"}),e.jsxs("p",{className:"font-bold",children:[t.totalProtein.toFixed(1),"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Karb"}),e.jsxs("p",{className:"font-bold",children:[t.totalCarbs.toFixed(1),"g"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Yağ"}),e.jsxs("p",{className:"font-bold",children:[t.totalFat.toFixed(1),"g"]})]})]})]},t.id)),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Günlük Özet"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Su Tüketimi (litre)"}),e.jsx("input",{type:"number",step:"0.5",value:$,onChange:t=>o(parseFloat(t.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toplam Kalori"}),e.jsx("input",{type:"text",value:p.reduce((t,i)=>t+i.totalCalories,0),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:r,onChange:t=>N(t.target.value),placeholder:"Günlük diyet notları...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:3})]})]})]}),x==="exercise"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Egzersizler"}),e.jsxs("select",{onChange:t=>{const i=S.find(n=>n.id===t.target.value);i&&oe(i),t.target.value=""},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm",value:"",children:[e.jsx("option",{value:"",children:"Egzersiz ekle..."}),S.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.category,")"]},t.id))]})]}),K.map((t,i)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.exerciseName}),e.jsx("button",{onClick:()=>de(i),className:"text-red-500 hover:text-red-700",children:e.jsx("i",{className:"ri-delete-bin-line"})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Süre (dk)"}),e.jsx("input",{type:"number",value:t.duration,onChange:n=>O(i,"duration",parseInt(n.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Set"}),e.jsx("input",{type:"number",value:t.sets||0,onChange:n=>O(i,"sets",parseInt(n.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Tekrar"}),e.jsx("input",{type:"number",value:t.reps||0,onChange:n=>O(i,"reps",parseInt(n.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Kalori"}),e.jsx("input",{type:"number",value:t.calories,onChange:n=>O(i,"calories",parseInt(n.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]},i)),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Günlük Özet"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Süre"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[K.reduce((t,i)=>t+i.duration,0)," dk"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Toplam Kalori"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[K.reduce((t,i)=>t+i.calories,0)," kcal"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:J,onChange:t=>H(t.target.value),placeholder:"Günlük egzersiz notları...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:3})]})]})]}),x==="detox"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Detoks Öğeleri"}),e.jsxs("select",{onChange:t=>{const i=h.find(n=>n.id===t.target.value);i&&ce(i),t.target.value=""},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm",value:"",children:[e.jsx("option",{value:"",children:"Detoks öğesi ekle..."}),h.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.category,")"]},t.id))]})]}),q.map((t,i)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.detoxName}),e.jsx("button",{onClick:()=>xe(i),className:"text-red-500 hover:text-red-700",children:e.jsx("i",{className:"ri-delete-bin-line"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Saat"}),e.jsx("input",{type:"time",value:t.time,onChange:n=>_(i,"time",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Miktar"}),e.jsx("input",{type:"number",value:t.amount,onChange:n=>_(i,"amount",parseInt(n.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Birim"}),e.jsx("input",{type:"text",value:t.unit,onChange:n=>_(i,"unit",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsx("p",{className:"text-sm text-green-600 mt-2",children:t.benefits})]},i)),e.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Günlük Bilgiler"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Su Tüketimi (litre)"}),e.jsx("input",{type:"number",step:"0.5",value:W,onChange:t=>V(parseFloat(t.target.value)||0),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notlar"}),e.jsx("textarea",{value:Q,onChange:t=>Z(t.target.value),placeholder:"Günlük detoks notları...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:3})]})]})]})]}),m&&e.jsx("div",{className:"mx-6 mb-4 bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3 rounded-lg text-sm",children:m}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-3 justify-between bg-gray-50",children:[e.jsxs("button",{onClick:ue,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-lg transition-colors text-sm font-medium flex items-center gap-2",children:[e.jsx("i",{className:"ri-download-line"}),"PDF İndir"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:C,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm font-medium",children:"Kapat"}),e.jsx("button",{onClick:me,disabled:z,className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg transition-colors disabled:opacity-50 text-sm font-medium",children:z?"Kaydediliyor...":"Planı Kaydet"})]})]})]})})}function Me(){const[l,C]=g.useState(null),[x,s]=g.useState([]),[d,b]=g.useState("users"),[z,j]=g.useState(!1),[m,a]=g.useState(null),[D,F]=g.useState(null),[S,u]=g.useState(!1),h=fe();g.useEffect(()=>{const N=localStorage.getItem("currentUser");if(!N){h("/login");return}const K=JSON.parse(N);if(!K.isAdmin){h("/user");return}C(K),v()},[h]);const v=async()=>{const N=await y.getAllUsers();s(N.filter(K=>!K.isAdmin))},p=()=>{localStorage.removeItem("currentUser"),h("/login")},A=async N=>{window.confirm(`${N.fullName} kullanıcısını silmek istediğinizden emin misiniz?`)&&(await y.deleteUser(N.id),await v())},$=N=>{a(N)},o=N=>{F(N)},r=async()=>{if(window.confirm(`Tüm veritabanlarını sıfırlamak istediğinizden emin misiniz?

Bu işlem mevcut tüm Yiyecek, Egzersiz, Detoks ve Tarif verilerini silecek ve yeni doğrulanmış verilerle değiştirecektir.

Bu işlem geri alınamaz!`)){u(!0);try{await y.resetAllDatabases(),await ye(),alert(`Veritabanları başarıyla sıfırlandı ve yeni veriler yüklendi!

- 192 Yiyecek
- 130 Egzersiz
- 90 Detoks öğesi
- 32 Tarif

Sayfayı yenileyerek güncel verileri görebilirsiniz.`),window.location.reload()}catch(N){console.error("Reset error:",N),alert("Sıfırlama sırasında bir hata oluştu!")}finally{u(!1)}}};return l?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-green-50",children:[e.jsx("header",{className:"bg-white shadow-lg border-b-2 border-green-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-lg relative overflow-hidden border-2 border-white",children:e.jsx(ve,{size:32,color:"white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Paneli"}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Dyt Ayşenur Korkmaz"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:r,disabled:S,className:"px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white rounded-lg text-sm font-medium transition-all shadow-md hover:shadow-lg whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",title:"Tüm veritabanlarını sıfırla ve yeni doğrulanmış verileri yükle",children:S?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Yükleniyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-refresh-line mr-2"}),"DB Sıfırla"]})}),e.jsxs("div",{className:"text-right bg-green-50 px-4 py-2 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:l.fullName}),e.jsx("p",{className:"text-xs text-green-600",children:"Yönetici"})]}),e.jsxs("button",{onClick:p,className:"px-5 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-all shadow-md hover:shadow-lg whitespace-nowrap",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"Çıkış Yap"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-2 flex flex-wrap gap-2 border border-green-100",children:[e.jsxs("button",{onClick:()=>b("users"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="users"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-user-line mr-2 text-lg"}),"Kullanıcılar"]}),e.jsxs("button",{onClick:()=>b("food"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="food"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-apple-line mr-2 text-lg"}),"Yiyecek DB"]}),e.jsxs("button",{onClick:()=>b("recipe"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="recipe"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-restaurant-line mr-2 text-lg"}),"Yemek DB"]}),e.jsxs("button",{onClick:()=>b("exercise"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="exercise"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-run-line mr-2 text-lg"}),"Egzersiz DB"]}),e.jsxs("button",{onClick:()=>b("detox"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="detox"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-leaf-line mr-2 text-lg"}),"Detoks DB"]}),e.jsxs("button",{onClick:()=>b("plans"),className:`flex-1 min-w-[140px] px-5 py-3 text-sm font-bold transition-all rounded-lg whitespace-nowrap ${d==="plans"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:bg-green-50"}`,children:[e.jsx("i",{className:"ri-calendar-check-line mr-2 text-lg"}),"Plan Yönetimi"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 border border-green-100",children:[d==="users"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Yönetimi"}),e.jsxs("button",{onClick:()=>j(!0),className:"px-5 py-2.5 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg font-medium transition-all shadow-md hover:shadow-lg flex items-center gap-2 whitespace-nowrap",children:[e.jsx("i",{className:"ri-user-add-line text-lg"}),"Yeni Kullanıcı"]})]}),e.jsx(Ne,{users:x,onEdit:$,onDelete:A,onManagePlans:o})]}),d==="food"&&e.jsx(ee,{}),d==="exercise"&&e.jsx(Se,{}),d==="detox"&&e.jsx(Fe,{}),d==="recipe"&&e.jsx(Te,{}),d==="plans"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-calendar-check-line text-6xl text-green-300 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Kullanıcı planlarını yönetmek için Kullanıcılar sekmesinden bir kullanıcı seçin"}),e.jsxs("button",{onClick:()=>b("users"),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[e.jsx("i",{className:"ri-user-line mr-2"}),"Kullanıcılara Git"]})]})]})}),z&&e.jsx(we,{onClose:()=>j(!1),onSuccess:()=>{j(!1),v()}}),m&&e.jsx(ke,{user:m,onClose:()=>a(null),onSuccess:()=>{a(null),v()}}),D&&e.jsx(Ee,{user:D,onClose:()=>F(null)})]}):null}export{Me as default};
//# sourceMappingURL=page-Dx7qH91v.js.map
